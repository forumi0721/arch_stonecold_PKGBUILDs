# Maintainer: StoneCold <forumi0721[at]gmail[dot]com>

pkgname=("tvheadend-extra")
pkgver=0.1
pkgrel=4
pkgdesc="tvheadend extra EPG and frequencies"
arch=("any")
url="https://tvheadend.org/"
license=("custom")
depends=("tvheadend" "mc2xml-bin")
install="${pkgname}.install"
source=("${pkgname}.tar.xz")
md5sums=("f462886a260af812abdf683bf55d0c58")

package() {
	install -dm755 "${pkgdir}/usr/share/tvheadend/data/dvb-scan/atsc"
	install -Dm644 "${srcdir}/${pkgname}/usr/share/tvheadend/data/dvb-scan/atsc/"* "${pkgdir}/usr/share/tvheadend/data/dvb-scan/atsc/"

	install -dm755 "${pkgdir}/usr/lib/systemd/system"
	install -Dm644 "${srcdir}/${pkgname}/usr/lib/systemd/system/mc2xml.service" "${pkgdir}/usr/lib/systemd/system/"
	install -Dm644 "${srcdir}/${pkgname}/usr/lib/systemd/system/mc2xml.timer" "${pkgdir}/usr/lib/systemd/system"

	install -dm755 "${pkgdir}/usr/bin"
	install -Dm755 "${srcdir}/${pkgname}/usr/bin/tv_grab_mc2xml" "${pkgdir}/usr/bin/"

	install -dm755 "${pkgdir}/var/mc2xml"
	install -Dm755 "${srcdir}/${pkgname}/var/mc2xml/mc2xml.sh" "${pkgdir}/var/mc2xml/"
	install -Dm644 "${srcdir}/${pkgname}/var/mc2xml/"*.dat "${pkgdir}/var/mc2xml/"
	install -Dm644 "${srcdir}/${pkgname}/var/mc2xml/"*.chl "${pkgdir}/var/mc2xml/"
	install -Dm644 "${srcdir}/${pkgname}/var/mc2xml/"*.ren "${pkgdir}/var/mc2xml/"
	install -Dm644 "${srcdir}/${pkgname}/var/mc2xml/"*.xml.gz "${pkgdir}/var/mc2xml/"
}
